import{v as P,p as D,a as R,b as O,s as C}from"./filepond-plugin-file-validate-size.esm-DY-W2tDK.js";import{_ as te}from"./AppLayout.vue_vue_type_script_setup_true_lang-NRCRJFiX.js";import{o as f,c as g,a as oe,d as F,Q as T,k as B,T as L,x as ne,y as ae,b as i,i as M,f as s,w as t,g as n,u as e,t as h,l as re,D as de,I as q,j as N,n as H,F as j,e as ue,h as U,Z as me}from"./app-D4bSyjPf.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as u,a as z}from"./Label.vue_vue_type_script_setup_true_lang-DYAeR79c.js";import{_ as $}from"./Input.vue_vue_type_script_setup_true_lang-_UEZTsLP.js";import{_ as E}from"./Textarea.vue_vue_type_script_setup_true_lang-BnzpkN23.js";import{_ as m}from"./InputError.vue_vue_type_script_setup_true_lang-uBSWiS49.js";import{_ as K,a as W,b as G,c as J,d as Q,e as Z,f as X,g as Y}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-wuIyeKec.js";import{_ as ee}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-BQHbceA3.js";import{g as se}from"./utils-BAE_gPAD.js";import"./index-BxMvTTTp.js";import"./createLucideIcon-C4ANVF05.js";import"./ApplicationLogo-CnqVksSo.js";const fe={},pe={class:"relative -z-10 flex h-80 items-center justify-center overflow-x-clip bg-[length:15%] md:-mb-32 md:h-[30rem] md:bg-[length:15%] lg:h-[35rem] lg:bg-[length:5%] xl:h-[45rem] xl:bg-[length:8%]"},ge=oe('<div class="absolute -top-14 left-1/2 size-full -translate-x-1/2 bg-announcement-illust-etc bg-[length:100%_100%] bg-center bg-repeat-x md:-top-28 lg:-top-20 xl:size-[90%]"></div><div class="xs:size-50 absolute -right-16 bottom-1 size-44 bg-boy bg-[length:100%_100%] bg-center bg-no-repeat xs:size-52 sm:size-64 md:-bottom-4 md:-right-24 md:size-72 lg:-bottom-28 lg:-right-44 lg:size-80 xl:size-[36rem]"></div><div class="xs:size-50 absolute -left-16 bottom-5 size-44 bg-girl bg-[length:100%_100%] bg-center bg-no-repeat xs:size-52 sm:size-64 md:-left-24 md:bottom-12 md:size-72 lg:-left-56 lg:bottom-0 lg:size-40 xl:size-[36rem]"></div><div class="relative flex h-full min-w-fit flex-col items-center justify-center bg-orange-paper-rip bg-[length:100%_100%] bg-center bg-no-repeat py-2"><p class="inline-block w-1/2 text-center text-xl font-bold uppercase tracking-widest text-white sm:text-xl md:text-3xl xl:text-5xl"> UPLOAD SUBMISSION </p></div>',4),_e=[ge];function he(k,_){return f(),g("div",pe,_e)}const be=ce(fe,[["render",he]]),ve={class:"container mb-10 max-w-xl"},xe={class:"gap-3"},we={class:""},ye={class:"relative flex w-full max-w-[100vw] flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},$e={class:"relative aspect-video w-full rounded-lg"},ke={class:"gap-3"},Se=i("p",{class:"mt-1 text-xs text-muted-foreground dark:text-red-400"}," Video We Are Ready for Schoolicious ",-1),Ve={class:"gap-3"},Ae={class:"gap-3"},Ue={class:"grid gap-3"},je={key:0,class:"space-y-2"},ze={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},Fe={class:"flex items-center justify-between"},Ie=i("div",{class:"flex items-center space-x-2"},null,-1),Pe={class:"text-sm"},De=F({__name:"UploadVideo",setup(k){const _=T(),b=B(()=>_.props.auth.user),l=L({file:null,thumbnail:null,judulSubmission:"",linkIg:"",competition:b.value.competition,submissionDescription:""}),c=ne(null),v=P(O,R,D),S=(o,d)=>{if(o){console.error("Oh no, something went wrong!",o);return}l.file=d.file},V=(o,d)=>{l.file=null},A=(o,d)=>{if(o){console.error("Oh no, something went wrong!",o);return}l.thumbnail=d.file},x=(o,d)=>{l.thumbnail=null},w=()=>{C({credits:!1,allowMultiple:!1,instantUpload:!1,allowProcess:!1})},r=o=>{let d=new FileReader;if(o&&c){d.readAsArrayBuffer(o),d.onload=function(p){var I;let y=(I=p.target)==null?void 0:I.result;if(y&&y instanceof ArrayBuffer){let le=new Blob([new Uint8Array(y)],{type:"video/mp4"}),ie=window.URL.createObjectURL(le);c.value?c.value.src=ie:console.error("videoPlayer is null when trying to set src")}else console.error("Unexpected buffer type:",y)};return}c&&(c.value?c.value.src="":console.error("videoPlayer is null when trying to set src"))};ae(()=>l.file,o=>{r(o)});const a=()=>{l.post("/submission",{onError:o=>{console.log("error nih bos : "+o)}})};return(o,d)=>(f(),g(j,null,[i("div",ve,[i("form",{onSubmit:M(a,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[i("div",xe,[s(e(u),{for:"competition"},{default:t(()=>[n("Competition : ")]),_:1}),s(e(z),null,{default:t(()=>[n(h(e(se)(e(l).competition)),1)]),_:1}),s(m,{class:"mt-2",message:e(l).errors.competition},null,8,["message"])]),i("div",we,[s(e(u),null,{default:t(()=>[n("Upload File")]),_:1}),s(e(v),{name:"test",ref:"pond","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false","accepted-file-types":["video/mp4","video/x-matroska","video/quicktime"],"max-file-size":"250MB",onAddfile:S,onInit:w,onRemovefile:V},null,512),s(m,{class:"mt-2",message:e(l).errors.file},null,8,["message"]),re(i("div",null,[i("div",ye,[i("div",$e,[s(e(z),{variant:"outline",class:"absolute right-1 top-2 z-1 bg-muted text-xs opacity-50 md:right-4 md:top-4"},{default:t(()=>[n(" Video Preview ")]),_:1}),i("video",{draggable:"false",ref_key:"videoPlayer",ref:c,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)])])],512),[[de,e(l).file]])]),i("div",ke,[i("div",null,[s(e(u),{for:"instagram_reels"},{default:t(()=>[n("link URL Instagram Reels :")]),_:1}),Se]),s(e($),{modelValue:e(l).linkIg,"onUpdate:modelValue":d[0]||(d[0]=p=>e(l).linkIg=p),required:"",id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en"},null,8,["modelValue"]),s(m,{class:"mt-2",message:e(l).errors.linkIg},null,8,["message"])]),i("div",Ve,[s(e(u),{for:"judul"},{default:t(()=>[n("Judul")]),_:1}),s(e($),{id:"judul",required:"",modelValue:e(l).judulSubmission,"onUpdate:modelValue":d[1]||(d[1]=p=>e(l).judulSubmission=p),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL"},null,8,["modelValue"]),s(m,{class:"mt-2",message:e(l).errors.judulSubmission},null,8,["message"])]),i("div",Ae,[s(e(u),{for:"role"},{default:t(()=>[n("Upload Thumbnail video")]),_:1}),s(e(v),{name:"test","max-file-size":"3MB","accepted-file-types":"image/jpeg, image/png, image/jpg","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false",required:"",onAddfile:A,onInit:w,onRemovefile:x}),s(m,{class:"mt-2",message:e(l).errors.thumbnail},null,8,["message"])]),i("div",Ue,[s(e(u),{for:"description"},{default:t(()=>[n("Description")]),_:1}),s(e(E),{id:"description",required:"",modelValue:e(l).submissionDescription,"onUpdate:modelValue":d[2]||(d[2]=p=>e(l).submissionDescription=p),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]"},null,8,["modelValue"]),s(m,{class:"mt-2",message:e(l).errors.submissionDescription},null,8,["message"])]),e(l).progress?(f(),g("div",je,[i("div",ze,[i("div",{class:"h-full bg-primary transition-all duration-200",style:q({width:e(l).progress.percentage+"%"})},null,4)]),i("div",Fe,[Ie,i("div",Pe,h(e(l).progress.percentage)+"%",1)])])):N("",!0),s(ee,{class:H([{"opacity-25":e(l).processing},"ml-auto w-fit"]),disabled:e(l).processing,type:"submit"},{default:t(()=>[n("Submit")]),_:1},8,["class","disabled"])],32)]),s(e(Y),null,{default:t(()=>[s(e(K),null,{default:t(()=>[s(e(W),null,{default:t(()=>[s(e(G),null,{default:t(()=>[n("Are you absolutely sure?")]),_:1}),s(e(J),null,{default:t(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),s(e(Q),null,{default:t(()=>[s(e(Z),null,{default:t(()=>[n("Cancel")]),_:1}),s(e(X),null,{default:t(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),Re={class:"container mb-10 max-w-xl"},Oe=i("h1",null,"Upload images",-1),Ce={class:"gap-3"},Te={class:""},Be={class:"gap-3"},Le={class:"gap-3"},Me=i("p",{class:"mt-1 text-xs text-muted-foreground dark:text-red-400"}," Video We Are Ready for Schoolicious ",-1),qe={class:"gap-3"},Ne={class:"grid gap-3"},He={key:0,class:"space-y-2"},Ee={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},Ke={class:"flex items-center justify-between"},We=i("div",{class:"flex items-center space-x-2"},null,-1),Ge={class:"text-sm"},Je=F({__name:"UploadImages",setup(k){const _=T(),b=B(()=>_.props.auth.user),l=L({files:[],thumbnail:null,judulSubmission:"",linkIg:"",competition:b.value.competition,submissionDescription:""}),c=P(O,R,D),v=(r,a)=>{if(r){console.error("Oh no, something went wrong!",r);return}l.files.push(a)},S=(r,a)=>{console.log("remove id : "+a.id),l.files=l.files.filter(o=>o.id!==a.id)},V=(r,a)=>{if(r){console.error("Oh no, something went wrong!",r);return}l.thumbnail=a.file},A=(r,a)=>{l.thumbnail=null},x=()=>{C({credits:!1,instantUpload:!1,allowProcess:!1})},w=()=>{l.transform(r=>({...r,files:r.files.map(a=>a.file)})).post("/submission",{onError:r=>{console.log("error nih bos : "+r)}})};return(r,a)=>(f(),g(j,null,[i("div",Re,[Oe,i("form",{onSubmit:M(w,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[i("div",Ce,[s(e(u),{for:"competition"},{default:t(()=>[n("Competition : ")]),_:1}),s(e(z),null,{default:t(()=>[n(h(e(se)(e(l).competition)),1)]),_:1}),s(m,{class:"mt-2",message:e(l).errors.competition},null,8,["message"])]),i("div",Te,[s(e(u),null,{default:t(()=>[n("Upload File")]),_:1}),s(e(c),{name:"test",ref:"pond","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!0,credits:"false","accepted-file-types":"image/jpeg, image/png, image/jpg","max-file-size":"3MB","max-files":2,onWarning:a[0]||(a[0]=o=>e(l).errors.files="Max file 2"),onUpdatefiles:a[1]||(a[1]=o=>e(l).errors.files=void 0),onAddfile:v,onInit:x,onRemovefile:S},null,512),s(m,{class:"mt-2",message:e(l).errors.files},null,8,["message"]),i("ul",null,[(f(!0),g(j,null,ue(e(l).files,o=>(f(),g("li",null,h(o.id)+" "+h(o.filename),1))),256))])]),i("div",Be,[s(e(u),{for:"judul"},{default:t(()=>[n("Judul")]),_:1}),s(e($),{id:"judul",required:"",modelValue:e(l).judulSubmission,"onUpdate:modelValue":a[2]||(a[2]=o=>e(l).judulSubmission=o),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL"},null,8,["modelValue"]),s(m,{class:"mt-2",message:e(l).errors.judulSubmission},null,8,["message"])]),i("div",Le,[i("div",null,[s(e(u),{for:"instagram_reels"},{default:t(()=>[n("link U RL Instagram Reels :")]),_:1}),Me]),s(e($),{modelValue:e(l).linkIg,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).linkIg=o),required:"",id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en"},null,8,["modelValue"]),s(m,{class:"mt-2",message:e(l).errors.linkIg},null,8,["message"])]),i("div",qe,[s(e(u),{for:"role"},{default:t(()=>[n("Upload Thumbnail")]),_:1}),s(e(c),{name:"test","max-file-size":"3MB","accepted-file-types":"image/jpeg, image/png, image/jpg","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false",required:"",onAddfile:V,onInit:x,onWarning:a[4]||(a[4]=o=>console.log(o)),onRemovefile:A}),s(m,{class:"mt-2",message:e(l).errors.thumbnail},null,8,["message"])]),i("div",Ne,[s(e(u),{for:"description"},{default:t(()=>[n("Description")]),_:1}),s(e(E),{id:"description",required:"",modelValue:e(l).submissionDescription,"onUpdate:modelValue":a[5]||(a[5]=o=>e(l).submissionDescription=o),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]"},null,8,["modelValue"]),s(m,{class:"mt-2",message:e(l).errors.submissionDescription},null,8,["message"])]),e(l).progress?(f(),g("div",He,[i("div",Ee,[i("div",{class:"h-full bg-primary transition-all duration-200",style:q({width:e(l).progress.percentage+"%"})},null,4)]),i("div",Ke,[We,i("div",Ge,h(e(l).progress.percentage)+"%",1)])])):N("",!0),s(ee,{class:H([{"opacity-25":e(l).processing},"ml-auto w-fit"]),disabled:e(l).processing,type:"submit"},{default:t(()=>[n("Submit")]),_:1},8,["class","disabled"])],32)]),s(e(Y),null,{default:t(()=>[s(e(K),null,{default:t(()=>[s(e(W),null,{default:t(()=>[s(e(G),null,{default:t(()=>[n("Are you absolutely sure?")]),_:1}),s(e(J),null,{default:t(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),s(e(Q),null,{default:t(()=>[s(e(Z),null,{default:t(()=>[n("Cancel")]),_:1}),s(e(X),null,{default:t(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),us=F({__name:"Upload",setup(k){return(_,b)=>(f(),U(te,null,{default:t(()=>[s(e(me),{title:"Submission page"}),s(be),_.$page.props.auth.user.competition==="mascot-design"?(f(),U(Je,{key:0})):(f(),U(De,{key:1}))]),_:1}))}});export{us as default};
