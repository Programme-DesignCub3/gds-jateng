import{d as V,T as $,x as k,y as U,h as j,w as a,o as f,f as l,u as e,Z as A,b as s,i as C,g as t,c as p,I as S,t as B,j as g,l as D,D as I}from"./app-Tk_7320_.js";import"./filepond-plugin-file-validate-size.esm-qailvfNN.js";import{_ as u,a as O,V as T}from"./Label.vue_vue_type_script_setup_true_lang-CiAi0ctM.js";import{_ as v}from"./Input.vue_vue_type_script_setup_true_lang-BX8kvCB7.js";import{_ as z}from"./Textarea.vue_vue_type_script_setup_true_lang-B1jEYgO5.js";import{_ as L}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5C1ARxu.js";import{_ as M}from"./ScrollArea.vue_vue_type_script_setup_true_lang-B0tG91mp.js";import{F as h,_ as N,a as P,b as R,c as F,d as K,e as E,f as H,g as G}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-DnjhS68T.js";import{_ as J,a as Z}from"./InputLabel.vue_vue_type_script_setup_true_lang-Dscxmiau.js";import{d as q,_ as Q,a as W,b as X,c}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-DUNpF-Fl.js";import"./createLucideIcon-CYOW6yrH.js";import"./index-Bco5GQzb.js";import"./utils-z192C6H7.js";import"./ApplicationLogo-MG4AMvwa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"grid w-full"},ee={class:"flex flex-col"},le={class:"grid flex-1 gap-4 overflow-auto p-4 lg:grid-cols-3"},se={class:"relative flex-col items-start gap-8 md:flex"},ae={class:"grid gap-6 rounded-lg border p-4"},oe=s("legend",{class:"-ml-1 px-1 text-sm font-medium"}," Submission info ",-1),ie={class:"grid gap-3"},te={key:0,class:"space-y-2"},ne={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},de={class:"flex items-center justify-between"},re=s("div",{class:"flex items-center space-x-2"},null,-1),ue={class:"text-sm"},me={class:"grid gap-3"},ce={class:"grid gap-3"},fe={class:"grid gap-6 rounded-lg border p-4"},_e=s("legend",{class:"-ml-1 px-1 text-sm font-medium"}," Additional info ",-1),pe={class:"grid gap-3"},ge={class:"grid gap-3"},ve=s("button",{type:"submit"},"Submit",-1),he={class:"relative flex w-full max-w-[100vw] flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},be={class:"relative aspect-video w-full rounded-lg"},ye={key:0,class:"grid aspect-video w-full items-center justify-center"},we={class:"text-center text-muted-foreground"},xe=s("p",null,"No video",-1),Ne=V({__name:"Upload",setup(Ve){const o=$({file:null,thumbnail:null,judulVideo:"",linkIg:"",competition:"",videoDescription:""}),d=k(null),b=r=>{let i=new FileReader;if(r&&d){i.readAsArrayBuffer(r),i.onload=function(n){var _;let m=(_=n.target)==null?void 0:_.result;if(m&&m instanceof ArrayBuffer){let w=new Blob([new Uint8Array(m)],{type:"video/mp4"}),x=window.URL.createObjectURL(w);d.value?d.value.src=x:console.error("videoPlayer is null when trying to set src")}else console.error("Unexpected buffer type:",m)};return}d&&(d.value?d.value.src="":console.error("videoPlayer is null when trying to set src"))};U(()=>o.file,r=>{b(r)});const y=()=>{o.post("/test-upload/basic",{onError:r=>{console.log("error nih bos : "+r)}})};return(r,i)=>(f(),j(L,null,{default:a(()=>[l(e(A),{title:"Upload test page"}),s("div",Y,[s("div",ee,[s("main",le,[l(e(M),{class:"rounded-md border ring-2 max-lg:order-1 lg:h-[78vh]"},{default:a(()=>[s("div",se,[s("form",{onSubmit:C(y,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[s("fieldset",ae,[oe,s("div",ie,[l(e(u),null,{default:a(()=>[t("Upload File")]),_:1}),l(h,{"max-file-size":"250MB","accepted-file-types":"video/mp4",modelValue:e(o).file,"onUpdate:modelValue":i[0]||(i[0]=n=>e(o).file=n)},null,8,["modelValue"]),e(o).progress?(f(),p("div",te,[s("div",ne,[s("div",{class:"h-full bg-blue-500 transition-all duration-200",style:S({width:e(o).progress.percentage+"%"})},null,4)]),s("div",de,[re,s("div",ue,B(e(o).progress.percentage)+"% ",1)])])):g("",!0)]),s("div",me,[l(e(u),{for:"judul"},{default:a(()=>[t("Judul")]),_:1}),l(e(v),{id:"judul",modelValue:e(o).judulVideo,"onUpdate:modelValue":i[1]||(i[1]=n=>e(o).judulVideo=n),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL"},null,8,["modelValue"])]),s("div",null,[l(J,{for:"competition",value:"Kompetisi yang Diikuti"}),l(e(q),{modelValue:e(o).competition,"onUpdate:modelValue":i[2]||(i[2]=n=>e(o).competition=n)},{default:a(()=>[l(e(Q),null,{default:a(()=>[l(e(W),{placeholder:"Pilih kompetisi"})]),_:1}),l(e(X),null,{default:a(()=>[l(e(c),{value:"mascot"},{default:a(()=>[t("Mascot Design")]),_:1}),l(e(c),{value:"cheerleading"},{default:a(()=>[t("Cheerleading Competition")]),_:1}),l(e(c),{value:"chant"},{default:a(()=>[t("Chant Competition")]),_:1}),l(e(c),{value:"kolaborasa"},{default:a(()=>[t("Kolaborasa")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Z,{class:"mt-2",message:e(o).errors.competition},null,8,["message"])]),s("div",ce,[l(e(u),{for:"instagram_reels"},{default:a(()=>[t("link URL Instagram Reels :")]),_:1}),l(e(v),{modelValue:e(o).linkIg,"onUpdate:modelValue":i[3]||(i[3]=n=>e(o).linkIg=n),id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en"},null,8,["modelValue"])])]),s("fieldset",fe,[_e,s("div",pe,[l(e(u),{for:"role"},{default:a(()=>[t("Upload Thumbnail video")]),_:1}),l(h,{"max-file-size":"5MB","accepted-file-types":"image/jpeg, image/png",modelValue:e(o).thumbnail,"onUpdate:modelValue":i[4]||(i[4]=n=>e(o).thumbnail=n)},null,8,["modelValue"])]),s("div",ge,[l(e(u),{for:"description"},{default:a(()=>[t("Description")]),_:1}),l(e(z),{id:"description",modelValue:e(o).videoDescription,"onUpdate:modelValue":i[5]||(i[5]=n=>e(o).videoDescription=n),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]"},null,8,["modelValue"])])]),ve],32)])]),_:1}),s("div",he,[D(s("div",be,[l(e(O),{variant:"outline",class:"absolute right-4 top-4 z-1 bg-muted opacity-50"},{default:a(()=>[t(" Video Preview ")]),_:1}),s("video",{draggable:"false",ref_key:"videoPlayer",ref:d,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)],512),[[I,e(o).file]]),e(o).file?g("",!0):(f(),p("div",ye,[s("div",we,[l(e(T),{class:"size-full"}),xe])]))])])])]),l(e(G),null,{default:a(()=>[l(e(N),null,{default:a(()=>[l(e(P),null,{default:a(()=>[l(e(R),null,{default:a(()=>[t("Are you absolutely sure?")]),_:1}),l(e(F),null,{default:a(()=>[t(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(K),null,{default:a(()=>[l(e(E),null,{default:a(()=>[t("Cancel")]),_:1}),l(e(H),null,{default:a(()=>[t("Continue")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Ne as default};
