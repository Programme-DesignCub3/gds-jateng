import{d as A,T as U,x as C,y as P,h as j,w as i,o as g,f as l,u as e,Z as D,b as a,i as F,g as n,l as B,D as I,c as R,I as S,t as O,j as T}from"./app-8LA9nZhf.js";import{v as M,p as L,a as z,b as N,s as H}from"./filepond-plugin-file-validate-size.esm-CCM8tHpg.js";import{_ as u,a as K}from"./Label.vue_vue_type_script_setup_true_lang-DG7t_p1e.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-CJyW1ml5.js";import{_ as E}from"./Textarea.vue_vue_type_script_setup_true_lang-xyroDj7y.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-DHRWYTvS.js";import{_ as J,a as Z,b as q,c as Q,d as W,e as X,f as Y,g as ee}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-DYwDjNoy.js";import{_ as le,a as ie}from"./InputLabel.vue_vue_type_script_setup_true_lang-B5iKIbBK.js";import{_ as ae,a as oe,b as se,c as f,d as te}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-ZqBpfPv5.js";import{C as ne}from"./CompetitionDetailHeader-FY7lspt_.js";import"./index-DZTQVYej.js";import"./utils-z192C6H7.js";import"./createLucideIcon-BoJMOoj-.js";import"./ApplicationLogo-epiZb_-S.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const de={class:"container mt-60 max-w-xl"},re={class:""},ue={class:"relative flex w-full max-w-[100vw] flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},me={class:"relative aspect-video w-full rounded-lg"},fe={key:0,class:"space-y-2"},ce={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},pe={class:"flex items-center justify-between"},_e=a("div",{class:"flex items-center space-x-2"},null,-1),ge={class:"text-sm"},he={class:"grid gap-3"},ve={class:"grid gap-3"},we={class:"grid gap-6 rounded-lg border p-4"},be=a("legend",{class:"-ml-1 px-1 text-sm font-medium"}," Additional info ",-1),ye={class:"grid gap-3"},xe={class:"grid gap-3"},Ve=a("button",{type:"submit"},"Submit",-1),Le=A({__name:"Upload",setup($e){const o=U({file:null,thumbnail:null,judulVideo:"",linkIg:"",competition:"",videoDescription:""}),r=C(null),c=M(N,z,L),v=(t,s)=>{if(t){console.error("Oh no, something went wrong!",t);return}o.file=s.file},w=(t,s)=>{o.file=null},b=(t,s)=>{if(t){console.error("Oh no, something went wrong!",t);return}o.thumbnail=s.file},y=(t,s)=>{o.thumbnail=null},p=()=>{H({credits:!1,allowMultiple:!1,instantUpload:!1,allowProcess:!1})},x=t=>{let s=new FileReader;if(t&&r){s.readAsArrayBuffer(t),s.onload=function(d){var _;let m=(_=d.target)==null?void 0:_.result;if(m&&m instanceof ArrayBuffer){let $=new Blob([new Uint8Array(m)],{type:"video/mp4"}),k=window.URL.createObjectURL($);r.value?r.value.src=k:console.error("videoPlayer is null when trying to set src")}else console.error("Unexpected buffer type:",m)};return}r&&(r.value?r.value.src="":console.error("videoPlayer is null when trying to set src"))};P(()=>o.file,t=>{x(t)});const V=()=>{o.post("/submission",{onError:t=>{console.log("error nih bos : "+t)}})};return(t,s)=>(g(),j(G,null,{default:i(()=>[l(e(D),{title:"Upload test page"}),l(ne),a("div",de,[a("form",{onSubmit:F(V,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[a("div",re,[l(e(u),null,{default:i(()=>[n("Upload File")]),_:1}),l(e(c),{name:"test",ref:"pond","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false","accepted-file-types":"video/*","max-file-size":"250MB",onAddfile:v,onInit:p,onRemovefile:w},null,512),B(a("div",null,[a("div",ue,[a("div",me,[l(e(K),{variant:"outline",class:"absolute right-1 top-2 z-1 bg-muted text-xs opacity-50 md:right-4 md:top-4"},{default:i(()=>[n(" Video Preview ")]),_:1}),a("video",{draggable:"false",ref_key:"videoPlayer",ref:r,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)])])],512),[[I,e(o).file]]),e(o).progress?(g(),R("div",fe,[a("div",ce,[a("div",{class:"h-full bg-blue-500 transition-all duration-200",style:S({width:e(o).progress.percentage+"%"})},null,4)]),a("div",pe,[_e,a("div",ge,O(e(o).progress.percentage)+"% ",1)])])):T("",!0)]),a("div",he,[l(e(u),{for:"judul"},{default:i(()=>[n("Judul")]),_:1}),l(e(h),{id:"judul",modelValue:e(o).judulVideo,"onUpdate:modelValue":s[0]||(s[0]=d=>e(o).judulVideo=d),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL"},null,8,["modelValue"])]),a("div",null,[l(le,{for:"competition",value:"Kompetisi yang Diikuti"}),l(e(te),{modelValue:e(o).competition,"onUpdate:modelValue":s[1]||(s[1]=d=>e(o).competition=d)},{default:i(()=>[l(e(ae),null,{default:i(()=>[l(e(oe),{placeholder:"Pilih kompetisi"})]),_:1}),l(e(se),null,{default:i(()=>[l(e(f),{value:"mascot"},{default:i(()=>[n("Mascot Design")]),_:1}),l(e(f),{value:"cheerleading"},{default:i(()=>[n("Cheerleading Competition")]),_:1}),l(e(f),{value:"chant"},{default:i(()=>[n("Chant Competition")]),_:1}),l(e(f),{value:"kolaborasa"},{default:i(()=>[n("Kolaborasa")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ie,{class:"mt-2",message:e(o).errors.competition},null,8,["message"])]),a("div",ve,[l(e(u),{for:"instagram_reels"},{default:i(()=>[n("link URL Instagram Reels :")]),_:1}),l(e(h),{modelValue:e(o).linkIg,"onUpdate:modelValue":s[2]||(s[2]=d=>e(o).linkIg=d),id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en"},null,8,["modelValue"])]),a("fieldset",we,[be,a("div",ye,[l(e(u),{for:"role"},{default:i(()=>[n("Upload Thumbnail video")]),_:1}),l(e(c),{name:"test","max-file-size":"3MB","accepted-file-types":"image/jpeg, image/png, image/jpg","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false",onAddfile:b,onInit:p,onRemovefile:y})]),a("div",xe,[l(e(u),{for:"description"},{default:i(()=>[n("Description")]),_:1}),l(e(E),{id:"description",modelValue:e(o).videoDescription,"onUpdate:modelValue":s[3]||(s[3]=d=>e(o).videoDescription=d),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]"},null,8,["modelValue"])])]),Ve],32)]),l(e(ee),null,{default:i(()=>[l(e(J),null,{default:i(()=>[l(e(Z),null,{default:i(()=>[l(e(q),null,{default:i(()=>[n("Are you absolutely sure?")]),_:1}),l(e(Q),null,{default:i(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(W),null,{default:i(()=>[l(e(X),null,{default:i(()=>[n("Cancel")]),_:1}),l(e(Y),null,{default:i(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Le as default};
