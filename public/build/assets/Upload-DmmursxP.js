import{v as E,p as K,a as G,b as J,s as W}from"./filepond-plugin-file-validate-size.esm-BWBUc_4K.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-DTOgpwRx.js";import{o as p,c as _,d as w,a as i,b as l,n as b,u as e,e as U,Q as I,q as C,T as A,f as Y,C as Z,i as F,w as t,h as n,t as v,v as X,K as ee,j as D,F as T,Z as se,g as V}from"./app-D2JXEtJf.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as ie,g as te}from"./utils-BuzIblbe.js";import{_ as c,a as z}from"./index-CMU3U-tk.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-8pmyVx1w.js";import{_ as O}from"./Textarea.vue_vue_type_script_setup_true_lang-ChCcT8e-.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-heNjmBfM.js";import{_ as L,a as R,b as P,c as q,d as B,e as M,f as N,g as H}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-DCk_qJLt.js";import{_ as ae}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-D1Q1NJXt.js";import{I as oe}from"./IconBackgroound-VfmOYXKp.js";import"./index-rwoxTC0X.js";import"./createLucideIcon-BVSzQF14.js";import"./ApplicationLogo-q29PSdpo.js";const ne={},re={draggable:"false",src:"/assets/images/new/logo_submission.png",alt:"Goodday Schoolicious logo"};function de(x,u){return p(),_("img",re)}const ue=le(ne,[["render",de]]),me=i("div",{class:"absolute bottom-0 left-0 h-32 w-full bg-gradient-to-b from-transparent to-[#fff9f0]"},null,-1),ce={class:"flex h-full w-full items-center justify-center"},ge=w({__name:"SubmissionHeader",props:{showJatengText:{type:Boolean,default:!1},bgImage:{default:null}},setup(x){return(u,h)=>(p(),_("div",{class:b(e(ie)(`${u.bgImage?"":"bg-black"} relative -z-0 lg:h-[80vh] md:h-[60vh] h-[40vh] bg-cover bg-center bg-no-repeat`,u.$attrs.class)),style:U(u.bgImage?{backgroundImage:`url(${u.bgImage})`}:{})},[me,i("div",ce,[l(ue,{class:"w-[20rem] sm:w-[20rem] md:w-[32rem] lg:w-[36rem] xl:w-[40rem] 2xl:w-[48rem]"})])],6))}}),pe={class:"container mb-10 max-w-xl"},fe={class:""},_e={class:"flex flex-col gap-2"},be={class:"relative inline-block w-2/6"},he={class:"relative z-10 block bg-primary text-white uppercase font-bold text-lg text-center px-6 py-3 rounded-2xl cursor-pointer select-none transition-transform duration-300 hover:translate-y-1 hover:translate-x-1"},ve=["disabled"],xe={class:"relative flex w-full max-w-[100vw] mt-2 flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},ye={class:"relative aspect-video w-full rounded-lg"},we={class:"gap-3"},ke={class:"gap-3"},$e={class:"flex flex-col gap-2"},je={class:"relative inline-block w-2/6"},Se=i("div",{class:"absolute -right-1 -bottom-1 w-full h-full rounded-2xl z-0",style:{"background-color":"#F7C893"},"aria-hidden":"true"},null,-1),Ue={class:"relative z-10 block bg-primary text-white uppercase font-bold text-lg text-center px-6 py-3 rounded-2xl cursor-pointer select-none transition-transform duration-300 hover:translate-y-1 hover:translate-x-1"},Ve=["disabled"],Ie={class:"grid gap-3"},Ce={key:0,class:"space-y-2"},Ae={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},Fe={class:"flex items-center justify-between"},De=i("div",{class:"flex items-center space-x-2"},null,-1),Te={class:"text-sm"},ze={class:"flex justify-center"},Oe=["disabled"],Le=w({__name:"UploadVideo",setup(x){const u=I(),h=C(()=>u.props.auth.user),s=A({file:null,thumbnail:null,judulSubmission:"",linkIg:"",competition:h.value.competition,submissionDescription:""}),f=Y(null),k=d=>{var o;const r=d.target,a=((o=r.files)==null?void 0:o[0])||null;if(a){if(!["video/mp4","video/x-matroska","video/quicktime"].includes(a.type)){alert("Format file tidak didukung!"),r.value="";return}if(a.size>250*1024*1024){alert("Ukuran file maksimal 250MB!"),r.value="";return}s.file=a}else s.file=null},$=d=>{var o;const r=d.target,a=((o=r.files)==null?void 0:o[0])||null;if(a){if(!["image/jpeg","image/png","image/jpg"].includes(a.type)){alert("Format thumbnail tidak didukung!"),r.value="";return}if(a.size>3*1024*1024){alert("Ukuran thumbnail maksimal 3MB!"),r.value="";return}s.thumbnail=a}else s.thumbnail=null},j=d=>{if(d&&f.value){const r=URL.createObjectURL(d);f.value.src=r}else f.value&&(f.value.src="")};Z(()=>s.file,d=>{j(d)});const S=()=>{s.post("/submission",{onError:d=>{console.log("error nih bos : "+d)}})};return(d,r)=>(p(),_(T,null,[i("div",pe,[i("form",{onSubmit:F(S,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[i("div",fe,[i("div",_e,[l(e(c),{class:"text-lg"},{default:t(()=>[n("Upload File")]),_:1}),i("div",be,[i("div",{class:b(["absolute -right-1 -bottom-1 w-full h-full rounded-2xl z-0",""]),style:{"background-color":"#F7C893"},"aria-hidden":"true"}),i("label",he,[n(" Upload "),i("input",{type:"file",class:"hidden",accept:"video/mp4,video/x-matroska,video/quicktime",onChange:k,disabled:e(s).processing},null,40,ve)])]),i("p",{class:b(["text-sm mt- font-bold",e(s).file?"text-gray-700":"text-red-500"])},v(e(s).file?e(s).file.name:"No file attached."),3)]),l(g,{class:"mt-2",message:e(s).errors.file},null,8,["message"]),X(i("div",null,[i("div",xe,[i("div",ye,[l(e(z),{variant:"outline",class:"absolute right-1 top-2 z-1 bg-muted text-xs opacity-50 md:right-4 md:top-4"},{default:t(()=>[n(" Video Preview ")]),_:1}),i("video",{draggable:"false",ref_key:"videoPlayer",ref:f,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)])])],512),[[ee,e(s).file]])]),i("div",we,[i("div",null,[l(e(c),{for:"instagram_reels",class:"text-lg"},{default:t(()=>[n("link URL Youtube :")]),_:1})]),l(e(y),{modelValue:e(s).linkIg,"onUpdate:modelValue":r[0]||(r[0]=a=>e(s).linkIg=a),required:"",id:"instagram_reels",placeholder:"ex: https://www.youtube.com/",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.linkIg},null,8,["message"])]),i("div",ke,[l(e(c),{for:"judul",class:"text-lg"},{default:t(()=>[n("Judul")]),_:1}),l(e(y),{id:"judul",required:"",modelValue:e(s).judulSubmission,"onUpdate:modelValue":r[1]||(r[1]=a=>e(s).judulSubmission=a),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.judulSubmission},null,8,["message"])]),i("div",$e,[l(e(c),{class:"text-lg"},{default:t(()=>[n("Upload Thumbnail Video")]),_:1}),i("div",je,[Se,i("label",Ue,[n(" Upload "),i("input",{type:"file",class:"hidden",accept:"image/jpeg,image/png,image/jpg",onChange:$,disabled:e(s).processing},null,40,Ve)])]),i("p",{class:b(["text-sm mt- font-bold",e(s).thumbnail?"text-gray-700":"text-red-500"])},v(e(s).thumbnail?e(s).thumbnail.name:"No file attached."),3),l(g,{class:"mt-2",message:e(s).errors.thumbnail},null,8,["message"])]),i("div",Ie,[l(e(c),{for:"description",class:"text-lg"},{default:t(()=>[n("Description")]),_:1}),l(e(O),{id:"description",required:"",modelValue:e(s).submissionDescription,"onUpdate:modelValue":r[2]||(r[2]=a=>e(s).submissionDescription=a),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.submissionDescription},null,8,["message"])]),e(s).progress?(p(),_("div",Ce,[i("div",Ae,[i("div",{class:"h-full bg-primary transition-all duration-200",style:U({width:e(s).progress.percentage+"%"})},null,4)]),i("div",Fe,[De,i("div",Te,v(e(s).progress.percentage)+"%",1)])])):D("",!0),i("div",ze,[i("button",{class:b([{"opacity-25":e(s).processing},"w-fit items-center bg-primary hover:bg-primary/80 text-white rounded-full px-5 py-2 justify-center"]),disabled:e(s).processing,type:"submit"}," Submit ",10,Oe)])],32)]),l(e(H),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(R),null,{default:t(()=>[l(e(P),null,{default:t(()=>[n("Are you absolutely sure?")]),_:1}),l(e(q),null,{default:t(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(B),null,{default:t(()=>[l(e(M),null,{default:t(()=>[n("Cancel")]),_:1}),l(e(N),null,{default:t(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),Re={class:"container mb-10 max-w-xl"},Pe=i("h1",null,"Upload images",-1),qe={class:"gap-3"},Be={class:""},Me={class:"gap-3"},Ne={class:"gap-3"},He=i("p",{class:"mt-1 text-xs text-muted-foreground dark:text-red-400"}," Video We Are Ready for Schoolicious ",-1),Ee={class:"gap-3"},Ke={class:"grid gap-3"},Ge={key:0,class:"space-y-2"},Je={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},We={class:"flex items-center justify-between"},Qe=i("div",{class:"flex items-center space-x-2"},null,-1),Ye={class:"text-sm"},Ze=w({__name:"UploadImages",setup(x){const u=I(),h=C(()=>u.props.auth.user),s=A({files:[],thumbnail:null,judulSubmission:"",linkIg:"",competition:h.value.competition,submissionDescription:""}),f=E(J,G,K),k=(a,o)=>{if(a){console.error("Oh no, something went wrong!",a);return}s.files.push(o)},$=(a,o)=>{console.log("remove id : "+o.id),s.files=s.files.filter(m=>m.id!==o.id)},j=(a,o)=>{if(a){console.error("Oh no, something went wrong!",a);return}s.thumbnail=o.file},S=(a,o)=>{s.thumbnail=null},d=()=>{W({credits:!1,instantUpload:!1,allowProcess:!1})},r=()=>{s.transform(a=>({...a,files:a.files.map(o=>o.file)})).post("/submission",{onError:a=>{console.log("error nih bos : "+a)}})};return(a,o)=>(p(),_(T,null,[i("div",Re,[Pe,i("form",{onSubmit:F(r,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[i("div",qe,[l(e(c),{for:"competition"},{default:t(()=>[n("Competition : ")]),_:1}),l(e(z),null,{default:t(()=>[n(v(e(te)(e(s).competition)),1)]),_:1}),l(g,{class:"mt-2",message:e(s).errors.competition},null,8,["message"])]),i("div",Be,[l(e(c),null,{default:t(()=>[n("Upload File")]),_:1}),l(e(f),{name:"test",ref:"pond","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!0,credits:"false","accepted-file-types":"image/jpeg, image/png, image/jpg","max-file-size":"3MB","max-files":2,disabled:e(s).processing,onWarning:o[0]||(o[0]=m=>e(s).errors.files="Max file 2"),onUpdatefiles:o[1]||(o[1]=m=>e(s).errors.files=void 0),onAddfile:k,onInit:d,onRemovefile:$},null,8,["disabled"]),l(g,{class:"mt-2",message:e(s).errors.files},null,8,["message"])]),i("div",Me,[l(e(c),{for:"judul"},{default:t(()=>[n("Judul")]),_:1}),l(e(y),{id:"judul",required:"",modelValue:e(s).judulSubmission,"onUpdate:modelValue":o[2]||(o[2]=m=>e(s).judulSubmission=m),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.judulSubmission},null,8,["message"])]),i("div",Ne,[i("div",null,[l(e(c),{for:"instagram_reels"},{default:t(()=>[n("link URL Instagram Reels :")]),_:1}),He]),l(e(y),{modelValue:e(s).linkIg,"onUpdate:modelValue":o[3]||(o[3]=m=>e(s).linkIg=m),required:"",id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.linkIg},null,8,["message"])]),i("div",Ee,[l(e(c),{for:"role"},{default:t(()=>[n("Upload Thumbnail")]),_:1}),l(e(f),{name:"test","max-file-size":"3MB","accepted-file-types":"image/jpeg, image/png, image/jpg","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false",required:"",disabled:e(s).processing,onAddfile:j,onInit:d,onWarning:o[4]||(o[4]=m=>console.log(m)),onRemovefile:S},null,8,["disabled"]),l(g,{class:"mt-2",message:e(s).errors.thumbnail},null,8,["message"])]),i("div",Ke,[l(e(c),{for:"description"},{default:t(()=>[n("Description")]),_:1}),l(e(O),{id:"description",required:"",modelValue:e(s).submissionDescription,"onUpdate:modelValue":o[5]||(o[5]=m=>e(s).submissionDescription=m),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.submissionDescription},null,8,["message"])]),e(s).progress?(p(),_("div",Ge,[i("div",Je,[i("div",{class:"h-full bg-primary transition-all duration-200",style:U({width:e(s).progress.percentage+"%"})},null,4)]),i("div",We,[Qe,i("div",Ye,v(e(s).progress.percentage)+"%",1)])])):D("",!0),l(ae,{class:b([{"opacity-25":e(s).processing},"ml-auto w-fit"]),disabled:e(s).processing,type:"submit"},{default:t(()=>[n("Submit")]),_:1},8,["class","disabled"])],32)]),l(e(H),null,{default:t(()=>[l(e(L),null,{default:t(()=>[l(e(R),null,{default:t(()=>[l(e(P),null,{default:t(()=>[n("Are you absolutely sure?")]),_:1}),l(e(q),null,{default:t(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(B),null,{default:t(()=>[l(e(M),null,{default:t(()=>[n("Cancel")]),_:1}),l(e(N),null,{default:t(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),Xe={class:"relative"},fs=w({__name:"Upload",setup(x){return(u,h)=>(p(),_("div",Xe,[l(Q,null,{default:t(()=>[l(e(se),{title:"Submission page"}),l(ge,{bgImage:"/assets/images/new/home.png",class:"relative z-0 bg-primary bg-[length:150%] bg-center bg-no-repeat md:bg-[length:125%] lg:bg-[length:115%] xl:bg-[length:110%]"}),l(oe),u.$page.props.auth.user.competition==="mascot-design"?(p(),V(Ze,{key:0})):(p(),V(Le,{key:1}))]),_:1})]))}});export{fs as default};
