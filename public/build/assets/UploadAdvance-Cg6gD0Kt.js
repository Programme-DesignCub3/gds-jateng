import{d as x,L as k,o as f,g as V,u as e,T as A,f as j,C,w as s,b as l,Z as F,a as o,i as B,h as n,c as h,e as D,t as P,j as b,v as S,J as I}from"./app-DTU6TSq0.js";import{p as M,a as O,b as R}from"./filepond-plugin-file-validate-size.esm-C7MHjP4a.js";import{_ as u,a as z}from"./index-n6hmNywN.js";import{_ as w}from"./Input.vue_vue_type_script_setup_true_lang-B8f03sHJ.js";import{_ as L}from"./Textarea.vue_vue_type_script_setup_true_lang-C8FW1Tsi.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-B1UKmJBE.js";import{_ as N}from"./ScrollArea.vue_vue_type_script_setup_true_lang-Dz40JL8t.js";import{v as K}from"./vue-filepond.esm-fTbC7xgR.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as H}from"./InputError.vue_vue_type_script_setup_true_lang-DdFiPc2b.js";import{_ as J}from"./InputLabel.vue_vue_type_script_setup_true_lang-CnIBGkGL.js";import{d as q,_ as G,a as Z,b as Q,c}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-DgJMgs-U.js";import{_ as W,a as X,b as Y,c as ee,d as le,e as oe,f as se,g as ae}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-LPCkZxTF.js";import{V as ie}from"./video-off-m6Zyt03p.js";import"./index-VhiOqOj_.js";import"./utils-BuzIblbe.js";import"./createLucideIcon-C4-b46Bl.js";import"./ApplicationLogo-Dha2w5DJ.js";const te=x({__name:"FilepondUpload",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(g){const a=K(R,O,M),d=k(g,"modelValue"),_=(i,t)=>{if(i){console.error("Oh no, something went wrong!",i);return}d.value=t.file},p=(i,t)=>{d.value=null},r=()=>{};return(i,t)=>(f(),V(e(a),{name:"test",ref:"pond","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false","max-file-size":"1MB",onAddfile:_,onInit:r,onRemovefile:p},null,512))}}),y=E(te,[["__scopeId","data-v-7c7a154b"]]),ne={class:"grid w-full"},de={class:"flex flex-col"},re={class:"grid flex-1 gap-4 overflow-auto p-4 lg:grid-cols-3"},ue={class:"relative flex-col items-start gap-8 md:flex"},me={class:"grid gap-6 rounded-lg border p-4"},ce=o("legend",{class:"-ml-1 px-1 text-sm font-medium"},"Submission info",-1),fe={class:"grid gap-3"},_e={key:0,class:"space-y-2"},pe={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},ge={class:"flex items-center justify-between"},ve=o("div",{class:"flex items-center space-x-2"},null,-1),he={class:"text-sm"},be={class:"grid gap-3"},we={class:"grid gap-3"},ye={class:"grid gap-6 rounded-lg border p-4"},xe=o("legend",{class:"-ml-1 px-1 text-sm font-medium"},"Additional info",-1),Ve={class:"grid gap-3"},$e={class:"grid gap-3"},Ue=o("button",{type:"submit"},"Submit",-1),ke={class:"relative flex w-full max-w-[100vw] flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},Ae={class:"relative aspect-video w-full rounded-lg"},je={key:0,class:"grid aspect-video w-full items-center justify-center"},Ce={class:"text-center text-muted-foreground"},Fe=o("p",null,"No video",-1),Ze=x({__name:"UploadAdvance",setup(g){const a=A({file:null,thumbnail:null,judulVideo:"",linkIg:"",competition:"",videoDescription:""}),d=j(null),_=r=>{let i=new FileReader;if(r&&d){i.readAsArrayBuffer(r),i.onload=function(t){var v;let m=(v=t.target)==null?void 0:v.result;if(m&&m instanceof ArrayBuffer){let $=new Blob([new Uint8Array(m)],{type:"video/mp4"}),U=window.URL.createObjectURL($);d.value?d.value.src=U:console.error("videoPlayer is null when trying to set src")}else console.error("Unexpected buffer type:",m)};return}d&&(d.value?d.value.src="":console.error("videoPlayer is null when trying to set src"))};C(()=>a.file,r=>{_(r)});const p=()=>{a.post("/test-upload/basic",{onError:r=>{console.log("error nih bos : "+r)}})};return(r,i)=>(f(),V(T,null,{default:s(()=>[l(e(F),{title:"Upload test page"}),o("div",ne,[o("div",de,[o("main",re,[l(e(N),{class:"rounded-md border ring-2 max-lg:order-1 lg:h-[78vh]"},{default:s(()=>[o("div",ue,[o("form",{onSubmit:B(p,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[o("fieldset",me,[ce,o("div",fe,[l(e(u),null,{default:s(()=>[n("Upload File")]),_:1}),l(y,{"max-file-size":"250MB","accepted-file-types":"video/mp4",modelValue:e(a).file,"onUpdate:modelValue":i[0]||(i[0]=t=>e(a).file=t)},null,8,["modelValue"]),e(a).progress?(f(),h("div",_e,[o("div",pe,[o("div",{class:"h-full bg-blue-500 transition-all duration-200",style:D({width:e(a).progress.percentage+"%"})},null,4)]),o("div",ge,[ve,o("div",he,P(e(a).progress.percentage)+"%",1)])])):b("",!0)]),o("div",be,[l(e(u),{for:"judul"},{default:s(()=>[n("Judul")]),_:1}),l(e(w),{id:"judul",modelValue:e(a).judulVideo,"onUpdate:modelValue":i[1]||(i[1]=t=>e(a).judulVideo=t),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL"},null,8,["modelValue"])]),o("div",null,[l(J,{for:"competition",value:"Kompetisi yang Diikuti"}),l(e(q),{modelValue:e(a).competition,"onUpdate:modelValue":i[2]||(i[2]=t=>e(a).competition=t)},{default:s(()=>[l(e(G),null,{default:s(()=>[l(e(Z),{placeholder:"Pilih kompetisi"})]),_:1}),l(e(Q),null,{default:s(()=>[l(e(c),{value:"mascot"},{default:s(()=>[n("Mascot Design")]),_:1}),l(e(c),{value:"cheerleading"},{default:s(()=>[n("Cheers & Dancing")]),_:1}),l(e(c),{value:"chants"},{default:s(()=>[n("Chant Competition")]),_:1}),l(e(c),{value:"kolaborasa"},{default:s(()=>[n("Kolaborasa")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(H,{class:"mt-2",message:e(a).errors.competition},null,8,["message"])]),o("div",we,[l(e(u),{for:"instagram_reels"},{default:s(()=>[n("link URL Instagram Reels :")]),_:1}),l(e(w),{modelValue:e(a).linkIg,"onUpdate:modelValue":i[3]||(i[3]=t=>e(a).linkIg=t),id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en"},null,8,["modelValue"])])]),o("fieldset",ye,[xe,o("div",Ve,[l(e(u),{for:"role"},{default:s(()=>[n("Upload Thumbnail video")]),_:1}),l(y,{"max-file-size":"5MB","accepted-file-types":"image/jpeg, image/png",modelValue:e(a).thumbnail,"onUpdate:modelValue":i[4]||(i[4]=t=>e(a).thumbnail=t)},null,8,["modelValue"])]),o("div",$e,[l(e(u),{for:"description"},{default:s(()=>[n("Description")]),_:1}),l(e(L),{id:"description",modelValue:e(a).videoDescription,"onUpdate:modelValue":i[5]||(i[5]=t=>e(a).videoDescription=t),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]"},null,8,["modelValue"])])]),Ue],32)])]),_:1}),o("div",ke,[S(o("div",Ae,[l(e(z),{variant:"outline",class:"absolute right-4 top-4 z-1 bg-muted opacity-50"},{default:s(()=>[n(" Video Preview ")]),_:1}),o("video",{draggable:"false",ref_key:"videoPlayer",ref:d,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)],512),[[I,e(a).file]]),e(a).file?b("",!0):(f(),h("div",je,[o("div",Ce,[l(e(ie),{class:"size-full"}),Fe])]))])])])]),l(e(ae),null,{default:s(()=>[l(e(W),null,{default:s(()=>[l(e(X),null,{default:s(()=>[l(e(Y),null,{default:s(()=>[n("Are you absolutely sure?")]),_:1}),l(e(ee),null,{default:s(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(le),null,{default:s(()=>[l(e(oe),null,{default:s(()=>[n("Cancel")]),_:1}),l(e(se),null,{default:s(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Ze as default};
