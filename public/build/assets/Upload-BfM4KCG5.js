import"./filepond-plugin-file-validate-size.esm-C7MHjP4a.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-DSMUDH_b.js";import{o as f,c as _,d as x,a as t,b as l,n as p,u as e,e as w,Q as U,q as C,T as I,f as z,C as T,i as D,w as o,h as n,t as v,v as A,J as B,j as F,F as L,Z as N}from"./app-C5EU9y_b.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as O}from"./utils-BuzIblbe.js";import{_ as m,a as H}from"./index-Drk06ACL.js";import{_ as y}from"./Input.vue_vue_type_script_setup_true_lang-Ci4qjBma.js";import{_ as M}from"./Textarea.vue_vue_type_script_setup_true_lang-iR3gOwvE.js";import{_ as g}from"./InputError.vue_vue_type_script_setup_true_lang-D6w07rkZ.js";import{_ as R,a as E,b as J,c as P,d as G,e as K,f as Q,g as Y}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-BdyQmWNY.js";import{I as Z}from"./IconBackgroound-N2cdm4hG.js";import"./index-D4kreyWo.js";import"./createLucideIcon-B2DXVGa9.js";import"./ApplicationLogo-CY7onhNl.js";const W={},X={draggable:"false",src:"/assets/images/new/logo_submission.png",alt:"Goodday Schoolicious logo"};function ee(b,d){return f(),_("img",X)}const se=q(W,[["render",ee]]),te=t("div",{class:"absolute bottom-0 left-0 h-32 w-full bg-gradient-to-b from-transparent to-[#fff9f0]"},null,-1),le={class:"flex h-full w-full items-center justify-center"},ae=x({__name:"SubmissionHeader",props:{showJatengText:{type:Boolean,default:!1},bgImage:{default:null}},setup(b){return(d,h)=>(f(),_("div",{class:p(e(O)(`${d.bgImage?"":"bg-black"} relative -z-0 lg:h-[80vh] md:h-[60vh] h-[40vh] bg-cover bg-center bg-no-repeat`,d.$attrs.class)),style:w(d.bgImage?{backgroundImage:`url(${d.bgImage})`}:{})},[te,t("div",le,[l(se,{class:"w-[20rem] sm:w-[20rem] md:w-[32rem] lg:w-[36rem] xl:w-[40rem] 2xl:w-[48rem]"})])],6))}}),ie={class:"container mb-10 max-w-xl"},oe={class:""},ne={class:"flex flex-col gap-2"},re={class:"relative inline-block w-2/6"},de={class:"relative z-10 block bg-primary text-white uppercase font-bold text-lg text-center px-6 py-3 rounded-2xl cursor-pointer select-none transition-transform duration-300 hover:translate-y-1 hover:translate-x-1"},ue=["disabled"],ce={class:"relative flex w-full max-w-[100vw] mt-2 flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},me={class:"relative aspect-video w-full rounded-lg"},ge={class:"gap-3"},pe={class:"gap-3"},fe={class:"flex flex-col gap-2"},_e={class:"relative inline-block w-2/6"},be=t("div",{class:"absolute -right-1 -bottom-1 w-full h-full rounded-2xl z-0",style:{"background-color":"#F7C893"},"aria-hidden":"true"},null,-1),he={class:"relative z-10 block bg-primary text-white uppercase font-bold text-lg text-center px-6 py-3 rounded-2xl cursor-pointer select-none transition-transform duration-300 hover:translate-y-1 hover:translate-x-1"},ve=["disabled"],xe={class:"grid gap-3"},ye={key:0,class:"space-y-2"},we={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},ke={class:"flex items-center justify-between"},$e=t("div",{class:"flex items-center space-x-2"},null,-1),je={class:"text-sm"},Se={class:"flex justify-center"},Ve=["disabled"],Ue=x({__name:"UploadVideo",setup(b){const d=U(),h=C(()=>d.props.auth.user),s=I({file:null,thumbnail:null,judulSubmission:"",linkIg:"",competition:h.value.competition,submissionDescription:""}),u=z(null),k=r=>{var c;const a=r.target,i=((c=a.files)==null?void 0:c[0])||null;if(i){if(!["video/mp4","video/x-matroska","video/quicktime"].includes(i.type)){alert("Format file tidak didukung!"),a.value="";return}if(i.size>250*1024*1024){alert("Ukuran file maksimal 250MB!"),a.value="";return}s.file=i}else s.file=null},$=r=>{var c;const a=r.target,i=((c=a.files)==null?void 0:c[0])||null;if(i){if(!["image/jpeg","image/png","image/jpg"].includes(i.type)){alert("Format thumbnail tidak didukung!"),a.value="";return}if(i.size>3*1024*1024){alert("Ukuran thumbnail maksimal 3MB!"),a.value="";return}s.thumbnail=i}else s.thumbnail=null},j=r=>{if(r&&u.value){const a=URL.createObjectURL(r);u.value.src=a}else u.value&&(u.value.src="")};T(()=>s.file,r=>{j(r)});const S=()=>{s.post("/submission",{onError:r=>{console.log("error nih bos : "+r)}})};return(r,a)=>(f(),_(L,null,[t("div",ie,[t("form",{onSubmit:D(S,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[t("div",oe,[t("div",ne,[l(e(m),{class:"text-lg"},{default:o(()=>[n("Upload File")]),_:1}),t("div",re,[t("div",{class:p(["absolute -right-1 -bottom-1 w-full h-full rounded-2xl z-0",""]),style:{"background-color":"#F7C893"},"aria-hidden":"true"}),t("label",de,[n(" Upload "),t("input",{type:"file",class:"hidden",accept:"video/mp4,video/x-matroska,video/quicktime",onChange:k,disabled:e(s).processing},null,40,ue)])]),t("p",{class:p(["text-sm mt- font-bold",e(s).file?"text-gray-700":"text-red-500"])},v(e(s).file?e(s).file.name:"No file attached."),3)]),l(g,{class:"mt-2",message:e(s).errors.file},null,8,["message"]),A(t("div",null,[t("div",ce,[t("div",me,[l(e(H),{variant:"outline",class:"absolute right-1 top-2 z-1 bg-muted text-xs opacity-50 md:right-4 md:top-4"},{default:o(()=>[n(" Video Preview ")]),_:1}),t("video",{draggable:"false",ref_key:"videoPlayer",ref:u,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)])])],512),[[B,e(s).file]])]),t("div",ge,[t("div",null,[l(e(m),{for:"instagram_reels",class:"text-lg"},{default:o(()=>[n("link URL Youtube :")]),_:1})]),l(e(y),{modelValue:e(s).linkIg,"onUpdate:modelValue":a[0]||(a[0]=i=>e(s).linkIg=i),required:"",id:"instagram_reels",placeholder:"ex: https://www.youtube.com/",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.linkIg},null,8,["message"])]),t("div",pe,[l(e(m),{for:"judul",class:"text-lg"},{default:o(()=>[n("Judul")]),_:1}),l(e(y),{id:"judul",required:"",modelValue:e(s).judulSubmission,"onUpdate:modelValue":a[1]||(a[1]=i=>e(s).judulSubmission=i),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.judulSubmission},null,8,["message"])]),t("div",fe,[l(e(m),{class:"text-lg"},{default:o(()=>[n("Upload Thumbnail Video")]),_:1}),t("div",_e,[be,t("label",he,[n(" Upload "),t("input",{type:"file",class:"hidden",accept:"image/jpeg,image/png,image/jpg",onChange:$,disabled:e(s).processing},null,40,ve)])]),t("p",{class:p(["text-sm mt- font-bold",e(s).thumbnail?"text-gray-700":"text-red-500"])},v(e(s).thumbnail?e(s).thumbnail.name:"No file attached."),3),l(g,{class:"mt-2",message:e(s).errors.thumbnail},null,8,["message"])]),t("div",xe,[l(e(m),{for:"description",class:"text-lg"},{default:o(()=>[n("Description")]),_:1}),l(e(M),{id:"description",required:"",modelValue:e(s).submissionDescription,"onUpdate:modelValue":a[2]||(a[2]=i=>e(s).submissionDescription=i),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]",disabled:e(s).processing},null,8,["modelValue","disabled"]),l(g,{class:"mt-2",message:e(s).errors.submissionDescription},null,8,["message"])]),e(s).progress?(f(),_("div",ye,[t("div",we,[t("div",{class:"h-full bg-primary transition-all duration-200",style:w({width:e(s).progress.percentage+"%"})},null,4)]),t("div",ke,[$e,t("div",je,v(e(s).progress.percentage)+"%",1)])])):F("",!0),t("div",Se,[t("button",{class:p([{"opacity-25":e(s).processing},"w-fit items-center bg-primary hover:bg-primary/80 text-white rounded-full px-5 py-2 justify-center"]),disabled:e(s).processing,type:"submit"}," Submit ",10,Ve)])],32)]),l(e(Y),null,{default:o(()=>[l(e(R),null,{default:o(()=>[l(e(E),null,{default:o(()=>[l(e(J),null,{default:o(()=>[n("Are you absolutely sure?")]),_:1}),l(e(P),null,{default:o(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(G),null,{default:o(()=>[l(e(K),null,{default:o(()=>[n("Cancel")]),_:1}),l(e(Q),null,{default:o(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})],64))}}),Ce={class:"relative"},Ee=x({__name:"Upload",setup(b){return(d,h)=>(f(),_("div",Ce,[l(V,null,{default:o(()=>[l(e(N),{title:"Submission page"}),l(ae,{bgImage:"/assets/images/new/home.png",class:"relative z-0 bg-primary bg-[length:150%] bg-center bg-no-repeat md:bg-[length:125%] lg:bg-[length:115%] xl:bg-[length:110%]"}),l(Z),l(Ue)]),_:1})]))}});export{Ee as default};
