import{o as f,c as b,a as A,d as S,T as j,x as P,y as C,h as D,w as t,f as l,u as e,Z as F,b as i,i as I,g as n,l as B,D as O,I as R,t as T,j as M,n as L}from"./app-CJiuEYsy.js";import{v as N,p as H,a as K,b as E,s as G}from"./filepond-plugin-file-validate-size.esm-BvS_ftjC.js";import{_ as c,a as J}from"./Label.vue_vue_type_script_setup_true_lang-D2a5Gn6a.js";import{_ as h}from"./Input.vue_vue_type_script_setup_true_lang-DB4WZ-7d.js";import{_ as W}from"./Textarea.vue_vue_type_script_setup_true_lang-CLz50Mw6.js";import{_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-DZOCQAjo.js";import{_ as q,a as Q}from"./InputLabel.vue_vue_type_script_setup_true_lang-DPFnBAsm.js";import{_ as X,a as Y,b as ee,c as u,d as le}from"./SelectScrollDownButton.vue_vue_type_script_setup_true_lang-pDI8Dsuu.js";import{_ as te,a as se,b as ie,c as ae,d as oe,e as ne,f as re,g as de}from"./AlertDialogCancel.vue_vue_type_script_setup_true_lang-WtyDNpqD.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as me}from"./PrimaryButton.vue_vue_type_script_setup_true_lang--fFxx_El.js";import"./index-CkKGSFPl.js";import"./utils-z192C6H7.js";import"./createLucideIcon-B_ObK1i0.js";import"./ApplicationLogo-DNysbb44.js";const ue={},fe={class:"relative -z-10 flex h-80 items-center justify-center overflow-x-clip bg-[length:15%] md:h-[30rem] md:bg-[length:15%] lg:h-[35rem] lg:bg-[length:5%] xl:h-[45rem] xl:bg-[length:8%]"},pe=A('<div class="absolute -top-14 left-1/2 size-full -translate-x-1/2 bg-announcement-illust-etc bg-[length:100%_100%] bg-center bg-repeat-x md:-top-28 lg:-top-20 xl:size-[90%]"></div><div class="xs:size-50 absolute -right-16 bottom-1 size-44 bg-boy bg-[length:100%_100%] bg-center bg-no-repeat xs:size-52 sm:size-64 md:-bottom-4 md:-right-24 md:size-72 lg:-bottom-28 lg:-right-44 lg:size-80 xl:size-[36rem]"></div><div class="xs:size-50 absolute -left-16 bottom-5 size-44 bg-girl bg-[length:100%_100%] bg-center bg-no-repeat xs:size-52 sm:size-64 md:-left-24 md:bottom-12 md:size-72 lg:-left-56 lg:bottom-0 lg:size-40 xl:size-[36rem]"></div><div class="relative flex h-full min-w-fit flex-col items-center justify-center bg-orange-paper-rip bg-[length:100%_100%] bg-center bg-no-repeat py-2"><p class="inline-block w-1/2 text-center text-xl font-bold uppercase tracking-widest text-white sm:text-xl md:text-3xl xl:text-5xl"> UPLOAD SUBMISSION </p></div>',4),_e=[pe];function ge(v,s){return f(),b("div",fe,_e)}const he=ce(ue,[["render",ge]]),be={class:"container mb-10 max-w-xl"},ve={class:""},xe={class:"relative flex w-full max-w-[100vw] flex-col items-center justify-center rounded-md bg-muted/50 p-2 ring-2 ring-primary lg:col-span-2 lg:p-4"},we={class:"relative aspect-video w-full rounded-lg"},ye={class:"gap-3"},$e=i("p",{class:"mt-1 text-xs text-muted-foreground dark:text-red-400"}," Video We Are Ready for Schoolicious ",-1),Ve={class:"gap-3"},ze={class:"gap-3"},ke={class:"grid gap-3"},Ue={key:0,class:"space-y-2"},Ae={class:"h-3 overflow-hidden rounded bg-gray-100 shadow-inner"},Se={class:"flex items-center justify-between"},je=i("div",{class:"flex items-center space-x-2"},null,-1),Pe={class:"text-sm"},Je=S({__name:"Upload",setup(v){const s=j({file:null,thumbnail:null,judulVideo:"",linkIg:"",competition:"",videoDescription:""}),d=P(null),p=N(E,K,H),x=(o,a)=>{if(o){console.error("Oh no, something went wrong!",o);return}s.file=a.file},w=(o,a)=>{s.file=null},y=(o,a)=>{if(o){console.error("Oh no, something went wrong!",o);return}s.thumbnail=a.file},$=(o,a)=>{s.thumbnail=null},_=()=>{G({credits:!1,allowMultiple:!1,instantUpload:!1,allowProcess:!1})},V=o=>{let a=new FileReader;if(o&&d){a.readAsArrayBuffer(o),a.onload=function(r){var g;let m=(g=r.target)==null?void 0:g.result;if(m&&m instanceof ArrayBuffer){let k=new Blob([new Uint8Array(m)],{type:"video/mp4"}),U=window.URL.createObjectURL(k);d.value?d.value.src=U:console.error("videoPlayer is null when trying to set src")}else console.error("Unexpected buffer type:",m)};return}d&&(d.value?d.value.src="":console.error("videoPlayer is null when trying to set src"))};C(()=>s.file,o=>{V(o)});const z=()=>{s.post("/submission",{onError:o=>{console.log("error nih bos : "+o)}})};return(o,a)=>(f(),D(Z,null,{default:t(()=>[l(e(F),{title:"Upload test page"}),l(he),i("div",be,[i("form",{onSubmit:I(z,["prevent"]),class:"grid w-full items-start gap-6 overflow-auto p-2 lg:p-4"},[i("div",ve,[l(e(c),null,{default:t(()=>[n("Upload File")]),_:1}),l(e(p),{name:"test",ref:"pond","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false","accepted-file-types":"video/*","max-file-size":"250MB",onAddfile:x,onInit:_,onRemovefile:w},null,512),B(i("div",null,[i("div",xe,[i("div",we,[l(e(J),{variant:"outline",class:"absolute right-1 top-2 z-1 bg-muted text-xs opacity-50 md:right-4 md:top-4"},{default:t(()=>[n(" Video Preview ")]),_:1}),i("video",{draggable:"false",ref_key:"videoPlayer",ref:d,id:"video-preview",class:"aspect-video w-full rounded-lg",controls:""},null,512)])])],512),[[O,e(s).file]])]),i("div",ye,[i("div",null,[l(e(c),{for:"instagram_reels"},{default:t(()=>[n("link URL Instagram Reels :")]),_:1}),$e]),l(e(h),{modelValue:e(s).linkIg,"onUpdate:modelValue":a[0]||(a[0]=r=>e(s).linkIg=r),id:"instagram_reels",placeholder:"ex: https://www.instagram.com/reel/C68td6fyyzsM/?hl=en"},null,8,["modelValue"])]),i("div",null,[l(q,{for:"competition",value:"Kompetisi yang Diikuti"}),l(e(le),{modelValue:e(s).competition,"onUpdate:modelValue":a[1]||(a[1]=r=>e(s).competition=r)},{default:t(()=>[l(e(X),null,{default:t(()=>[l(e(Y),{placeholder:"Pilih kompetisi"})]),_:1}),l(e(ee),null,{default:t(()=>[l(e(u),{value:"mascot"},{default:t(()=>[n("Mascot Design")]),_:1}),l(e(u),{value:"cheerleading"},{default:t(()=>[n("Cheerleading Competition")]),_:1}),l(e(u),{value:"chant"},{default:t(()=>[n("Chant Competition")]),_:1}),l(e(u),{value:"kolaborasa"},{default:t(()=>[n("Kolaborasa")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(Q,{class:"mt-2",message:e(s).errors.competition},null,8,["message"])]),i("div",Ve,[l(e(c),{for:"judul"},{default:t(()=>[n("Judul")]),_:1}),l(e(h),{id:"judul",modelValue:e(s).judulVideo,"onUpdate:modelValue":a[2]||(a[2]=r=>e(s).judulVideo=r),placeholder:"ex: GDSCHOOLICIOUS_NAMA SEKOLAH_KOTA ASAL"},null,8,["modelValue"])]),i("div",ze,[l(e(c),{for:"role"},{default:t(()=>[n("Upload Thumbnail video")]),_:1}),l(e(p),{name:"test","max-file-size":"3MB","accepted-file-types":"image/jpeg, image/png, image/jpg","label-idle":"Drop files here...","instant-upload":!1,"allow-multiple":!1,credits:"false",onAddfile:y,onInit:_,onRemovefile:$})]),i("div",ke,[l(e(c),{for:"description"},{default:t(()=>[n("Description")]),_:1}),l(e(W),{id:"description",modelValue:e(s).videoDescription,"onUpdate:modelValue":a[3]||(a[3]=r=>e(s).videoDescription=r),placeholder:"ex: Temukan Harmoni indah dalam lagu 'Rasa di Ujung Senda' dengan lirik penuh makna dan melodi yang menenagkan",class:"min-h-[9.5rem]"},null,8,["modelValue"])]),e(s).progress?(f(),b("div",Ue,[i("div",Ae,[i("div",{class:"h-full bg-blue-500 transition-all duration-200",style:R({width:e(s).progress.percentage+"%"})},null,4)]),i("div",Se,[je,i("div",Pe,T(e(s).progress.percentage)+"% ",1)])])):M("",!0),l(me,{class:L([{"opacity-25":e(s).processing},"ml-auto w-fit"]),disabled:e(s).processing,type:"submit"},{default:t(()=>[n("Submit")]),_:1},8,["class","disabled"])],32)]),l(e(de),null,{default:t(()=>[l(e(te),null,{default:t(()=>[l(e(se),null,{default:t(()=>[l(e(ie),null,{default:t(()=>[n("Are you absolutely sure?")]),_:1}),l(e(ae),null,{default:t(()=>[n(" This action cannot be undone. This will permanently send the submission ")]),_:1})]),_:1}),l(e(oe),null,{default:t(()=>[l(e(ne),null,{default:t(()=>[n("Cancel")]),_:1}),l(e(re),null,{default:t(()=>[n("Continue")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Je as default};
